import{v as S}from"./functions-a51n7xoY.js";const v=document.querySelector("#base"),q=document.querySelector("#desired"),C=document.querySelectorAll(".add-new-btn"),N=document.querySelectorAll(".result-btn"),w=document.querySelectorAll(".clear-btn"),Q=document.querySelectorAll(".del-btn"),R=document.querySelectorAll('input[type="number"]'),G=document.querySelectorAll('input[type="text"]'),a=document.querySelector(".empty-card-message"),m=document.querySelector(".updated-recipe-list"),b=document.querySelectorAll(".tablink"),P=document.querySelectorAll(".recipe-scale");R.forEach(e=>e.addEventListener("keydown",S));G.forEach(e=>e.addEventListener("input",A));y();L();b.forEach(e=>{e.addEventListener("click",$)});function $(e){const t=e.currentTarget,c=t.dataset.tab;P.forEach(r=>r.classList.remove("active")),b.forEach(r=>r.classList.remove("active")),t.classList.add("active"),document.getElementById(c).classList.add("active");const n={target:document.getElementById(c).querySelector(".clear-btn")};E(n),h(c),y()}function h(e){e==="key-ingr"?a.textContent="Input your key ingredient and the original recipe, then click ‘Scale Recipe’ to see your updated recipe. Be sure to include the key ingredient in the recipe.":e==="portion"&&(a.textContent="Input your ingredients and amounts, then click 'Scale Recipe' to see your updated recipe.")}C.forEach(e=>e.addEventListener("click",D));Q.forEach(e=>e.addEventListener("click",k));function D(e){e.preventDefault();const t=e.target.closest(".recipe-scale"),c=t.querySelector(".ingredient-group"),i=e.currentTarget,n=c.cloneNode(!0);n.querySelectorAll("input, select").forEach(o=>{o.value="",o.tagName==="SELECT"&&(o.selectedIndex=0)});const l=n.querySelectorAll('input[type="number"]'),u=n.querySelectorAll('input[type="text"]');l.forEach(o=>o.addEventListener("keydown",S)),u.forEach(o=>o.addEventListener("input",A)),n.querySelector(".del-btn").addEventListener("click",k);const p=n.querySelector("input[name='radio-key']");p&&(p.checked=!1),i.insertAdjacentElement("beforebegin",n),y(),I(t)}w.forEach(e=>e.addEventListener("click",E));function E(e){const t=e.target.closest(".recipe-scale");[...t.querySelectorAll(".ingredient-group")].slice(1).forEach(r=>r.remove()),t.querySelectorAll("input, select").forEach(r=>{r.value="",r.tagName==="SELECT"&&(r.selectedIndex=0)}),m.querySelectorAll(".updated-ingredient").forEach(r=>r.remove()),L();const n=t.id;h(n),y()}function k(e){e.preventDefault();const t=e.target.closest(".recipe-scale");e.target.closest(".ingredient-group").remove(),y(),I(t)}function y(){const e=document.querySelector(".recipe-scale.active");if(!e)return;const t=e.querySelectorAll(".ingredient-group"),c=e.querySelectorAll(".del-btn"),i=t.length===1;c.forEach(n=>n.disabled=i)}function A(e){const t=e.target;t.value=t.value.replace(/[0-9]/g,"")}function I(e){e.querySelectorAll(".ingredient-group").forEach((c,i)=>{const n=c.querySelector(".ingr-label");n.textContent="Ingredient "+(i+1)})}N.forEach(e=>e.addEventListener("click",F));function F(e){e.preventDefault();const t=e.target.closest(".recipe-scale");m.querySelectorAll(".updated-ingredient").forEach(n=>n.remove());const c=t.querySelector(".ingr-name").value,i=t.querySelector(".ingr-qty").value;if(t.id==="portion"){if(!v.value||!q.value||v.value==="0"||q.value==="0"){a.textContent="Please input your base and desired yield!";return}if(!c||!i){a.textContent="Please input names and quantity of ingredients!";return}const n=t.querySelectorAll(".ingredient-group"),r=Number(q.value)/Number(v.value);a.remove(),n.forEach(l=>{const u=l.querySelector(".ingr-name").value,d=l.querySelector(".ingr-qty").value,p=l.querySelector(".select").value;if(!u||!d)return;const o=Number(d)*r,g=Math.round(o*100)/100,s=document.createElement("li");s.classList.add("updated-ingredient"),s.textContent=`${u}: ${g} ${p}`,m.append(s)})}else if(t.id==="key-ingr"){const n=t.querySelector("#key");if(!n.value||n.value==="0"){a.textContent="Please input the amount of your key ingredient!";return}if(!c||!i){a.textContent="Please input names and quantity of the original recipe ingredients!";return}const r=t.querySelector("input[name='radio-key']:checked");if(!r){a.textContent="Please select the key ingredient in the original recipe!";return}const l=r.closest(".ingredient-group");l.querySelector(".ingr-name").value;const u=l.querySelector(".ingr-qty").value;if(l.querySelector(".select").value,u==="0"||!u){a.textContent="Please enter the valid amount of the key ingredient in the original recipe! (can't be 0)";return}const d=Number(n.value)/Number(u);t.querySelectorAll(".ingredient-group").forEach(o=>{const g=o.querySelector(".ingr-name").value,s=o.querySelector(".ingr-qty").value,x=o.querySelector(".select").value;if(!g||!s)return;const B=Number(s)*d,T=Math.round(B*100)/100;a.remove();const f=document.createElement("li");f.classList.add("updated-ingredient"),f.textContent=`${g}: ${T} ${x}`,m.append(f)})}}function L(){document.querySelector(".recipe-scale.active").querySelectorAll("input[name='radio-key']").forEach(c=>c.checked=!1)}
